{"ast":null,"code":"import React,{useRef,useEffect,memo}from'react';import{Canvas,useFrame}from'@react-three/fiber';import{Environment}from'@react-three/drei';import*as THREE from'three';import{createNoise4D}from'simplex-noise';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const noise4D=createNoise4D();const GlacisphereMesh=/*#__PURE__*/memo(_ref=>{let{intensity=0.5,speed=0.012,ampBase=0.12,ampVar=0.18}=_ref;const mesh=useRef();const origPositions=useRef();const tRef=useRef(0);useEffect(()=>{if(mesh.current){const pos=mesh.current.geometry.attributes.position.array;origPositions.current=new Float32Array(pos);}},[]);useFrame(()=>{tRef.current+=speed;const t=tRef.current;const geometry=mesh.current.geometry;const pos=geometry.attributes.position;if(!origPositions.current)return;for(let i=0;i<pos.count;i++){const ox=origPositions.current[i*3];const oy=origPositions.current[i*3+1];const oz=origPositions.current[i*3+2];const len=Math.sqrt(ox*ox+oy*oy+oz*oz);const nx=ox/len;const ny=oy/len;const nz=oz/len;const noise=noise4D(nx*1.5,ny*1.5,nz*1.5,t*0.7);const amp=ampBase+ampVar*noise;const r=1.2*(1+amp*intensity);pos.setXYZ(i,nx*r,ny*r,nz*r);}pos.needsUpdate=true;geometry.computeVertexNormals();});return/*#__PURE__*/_jsxs(\"mesh\",{ref:mesh,position:[0,0,0],children:[/*#__PURE__*/_jsx(\"icosahedronGeometry\",{args:[1.2,64]}),/*#__PURE__*/_jsx(\"meshPhysicalMaterial\",{color:new THREE.Color('#FFD700'),roughness:0.08,metalness:0.6,transmission:0.7,thickness:1.1,ior:1.45,reflectivity:0.7,clearcoat:0.7,clearcoatRoughness:0.15,attenuationColor:new THREE.Color('#FFC300'),attenuationDistance:0.7,transparent:true,opacity:0.98})]});});export default function GlassyBlob(_ref2){let{intensity=0.5,mode='idle',speed,ampBase,ampVar,size=420}=_ref2;const dynamicSpeed=speed!==undefined?speed:mode==='speaking'?0.055:mode==='listening'?0.008:0.012;const dynamicAmpBase=ampBase!==undefined?ampBase:mode==='listening'?0.22:mode==='speaking'?0.18:0.12;const dynamicAmpVar=ampVar!==undefined?ampVar:mode==='listening'?0.32:mode==='speaking'?0.28:0.18;return/*#__PURE__*/_jsx(\"div\",{style:{width:size,height:size,margin:'auto',display:'flex',alignItems:'center',justifyContent:'center',transition:'all 0.3s ease'},children:/*#__PURE__*/_jsxs(Canvas,{camera:{position:[0,0,3.5],fov:50},style:{background:'transparent',width:'100%',height:'100%'},children:[/*#__PURE__*/_jsx(\"ambientLight\",{intensity:0.8}),/*#__PURE__*/_jsx(\"pointLight\",{position:[10,10,10],intensity:1.5,color:'#fff8e1'}),/*#__PURE__*/_jsx(GlacisphereMesh,{intensity:intensity,speed:dynamicSpeed,ampBase:dynamicAmpBase,ampVar:dynamicAmpVar}),/*#__PURE__*/_jsx(Environment,{files:\"/env/city.hdr\"})]})});}","map":{"version":3,"names":["React","useRef","useEffect","memo","Canvas","useFrame","Environment","THREE","createNoise4D","jsx","_jsx","jsxs","_jsxs","noise4D","GlacisphereMesh","_ref","intensity","speed","ampBase","ampVar","mesh","origPositions","tRef","current","pos","geometry","attributes","position","array","Float32Array","t","i","count","ox","oy","oz","len","Math","sqrt","nx","ny","nz","noise","amp","r","setXYZ","needsUpdate","computeVertexNormals","ref","children","args","color","Color","roughness","metalness","transmission","thickness","ior","reflectivity","clearcoat","clearcoatRoughness","attenuationColor","attenuationDistance","transparent","opacity","GlassyBlob","_ref2","mode","size","dynamicSpeed","undefined","dynamicAmpBase","dynamicAmpVar","style","width","height","margin","display","alignItems","justifyContent","transition","camera","fov","background","files"],"sources":["C:/Users/Krish/jarvis/web_gui/src/components/GlassyBlob.jsx"],"sourcesContent":["import React, { useRef, useEffect, memo } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport { Environment } from '@react-three/drei';\nimport * as THREE from 'three';\nimport { createNoise4D } from 'simplex-noise';\n\nconst noise4D = createNoise4D();\n\nconst GlacisphereMesh = memo(({ intensity = 0.5, speed = 0.012, ampBase = 0.12, ampVar = 0.18 }) => {\n  const mesh = useRef();\n  const origPositions = useRef();\n  const tRef = useRef(0);\n\n  useEffect(() => {\n    if (mesh.current) {\n      const pos = mesh.current.geometry.attributes.position.array;\n      origPositions.current = new Float32Array(pos);\n    }\n  }, []);\n\n  useFrame(() => {\n    tRef.current += speed;\n    const t = tRef.current;\n    const geometry = mesh.current.geometry;\n    const pos = geometry.attributes.position;\n    if (!origPositions.current) return;\n    \n    for (let i = 0; i < pos.count; i++) {\n      const ox = origPositions.current[i * 3];\n      const oy = origPositions.current[i * 3 + 1];\n      const oz = origPositions.current[i * 3 + 2];\n      const len = Math.sqrt(ox * ox + oy * oy + oz * oz);\n      const nx = ox / len;\n      const ny = oy / len;\n      const nz = oz / len;\n      \n      const noise = noise4D(nx * 1.5, ny * 1.5, nz * 1.5, t * 0.7);\n      const amp = ampBase + ampVar * noise;\n      const r = 1.2 * (1 + amp * intensity);\n      pos.setXYZ(i, nx * r, ny * r, nz * r);\n    }\n    pos.needsUpdate = true;\n    geometry.computeVertexNormals();\n  });\n\n  return (\n    <mesh ref={mesh} position={[0, 0, 0]}>\n      <icosahedronGeometry args={[1.2, 64]} />\n      <meshPhysicalMaterial\n        color={new THREE.Color('#FFD700')}\n        roughness={0.08}\n        metalness={0.6}\n        transmission={0.7}\n        thickness={1.1}\n        ior={1.45}\n        reflectivity={0.7}\n        clearcoat={0.7}\n        clearcoatRoughness={0.15}\n        attenuationColor={new THREE.Color('#FFC300')}\n        attenuationDistance={0.7}\n        transparent\n        opacity={0.98}\n      />\n    </mesh>\n  );\n});\n\nexport default function GlassyBlob({ \n  intensity = 0.5, \n  mode = 'idle', \n  speed, \n  ampBase, \n  ampVar,\n  size = 420 \n}) {\n  const dynamicSpeed = speed !== undefined ? speed : \n    mode === 'speaking' ? 0.055 : \n    mode === 'listening' ? 0.008 : 0.012;\n\n  const dynamicAmpBase = ampBase !== undefined ? ampBase :\n    mode === 'listening' ? 0.22 : \n    mode === 'speaking' ? 0.18 : 0.12;\n\n  const dynamicAmpVar = ampVar !== undefined ? ampVar :\n    mode === 'listening' ? 0.32 : \n    mode === 'speaking' ? 0.28 : 0.18;\n\n  return (\n    <div \n      style={{ \n        width: size, \n        height: size, \n        margin: 'auto', \n        display: 'flex', \n        alignItems: 'center', \n        justifyContent: 'center',\n        transition: 'all 0.3s ease'\n      }}\n    >\n      <Canvas camera={{ position: [0, 0, 3.5], fov: 50 }} style={{ \n        background: 'transparent',\n        width: '100%',\n        height: '100%'\n      }}>\n        <ambientLight intensity={0.8} />\n        <pointLight position={[10, 10, 10]} intensity={1.5} color={'#fff8e1'} />\n        <GlacisphereMesh \n          intensity={intensity} \n          speed={dynamicSpeed} \n          ampBase={dynamicAmpBase} \n          ampVar={dynamicAmpVar} \n        />\n        <Environment files=\"/env/city.hdr\" />\n      </Canvas>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}